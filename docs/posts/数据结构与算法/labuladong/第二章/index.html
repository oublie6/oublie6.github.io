<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>数据结构与算法-labuladong-第二章 - Oublie的Hugo博客</title><meta name="Description" content="Oublie的Hugo博客,hugo,golang,mysql,微服务"><meta property="og:title" content="数据结构与算法-labuladong-第二章" />
<meta property="og:description" content="本系列笔记为作者在跟随labuladong的算法小抄学习的时候结合golang做的笔记。感谢东哥。另外根据东哥对算法的分类法，将自己平时记的" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://oublie6.github.io/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/labuladong/%E7%AC%AC%E4%BA%8C%E7%AB%A0/" /><meta property="og:image" content="https://oublie6.github.io/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-04T15:56:50+08:00" />
<meta property="article:modified_time" content="2023-02-04T15:56:50+08:00" /><meta property="og:site_name" content="我的网站" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://oublie6.github.io/logo.png"/>

<meta name="twitter:title" content="数据结构与算法-labuladong-第二章"/>
<meta name="twitter:description" content="本系列笔记为作者在跟随labuladong的算法小抄学习的时候结合golang做的笔记。感谢东哥。另外根据东哥对算法的分类法，将自己平时记的"/>
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="icon" href="/images/%e5%a4%b4%e5%83%8f.jpeg"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://oublie6.github.io/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/labuladong/%E7%AC%AC%E4%BA%8C%E7%AB%A0/" /><link rel="prev" href="https://oublie6.github.io/posts/golang/%E6%A0%87%E5%87%86%E5%BA%93/container/" /><link rel="next" href="https://oublie6.github.io/posts/%E9%80%9A%E7%94%A8%E6%8A%80%E6%9C%AF/protobuf/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "数据结构与算法-labuladong-第二章",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/oublie6.github.io\/posts\/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95\/labuladong\/%E7%AC%AC%E4%BA%8C%E7%AB%A0\/"
        },"image": ["https:\/\/oublie6.github.io\/images\/%E5%A4%B4%E5%83%8F.jpeg"],"genre": "posts","keywords": "labuladong系列","wordcount":  2263 ,
        "url": "https:\/\/oublie6.github.io\/posts\/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95\/labuladong\/%E7%AC%AC%E4%BA%8C%E7%AB%A0\/","datePublished": "2023-02-04T15:56:50+08:00","dateModified": "2023-02-04T15:56:50+08:00","publisher": {
            "@type": "Organization",
            "name": "Oublie的Hugo博客","logo": "https:\/\/oublie6.github.io\/images\/%E5%A4%B4%E5%83%8F.jpeg"},"author": {
                "@type": "Person",
                "name": "oublie"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('light' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'light' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Oublie的Hugo博客">Oublie的Hugo博客</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="/about/"> 关于 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Oublie的Hugo博客">Oublie的Hugo博客</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="">文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="/about/" title="">关于</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">数据结构与算法-labuladong-第二章</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://oublie6.github.io/" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>oublie</a></span>&nbsp;<span class="post-category">included in <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>数据结构与算法</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2023-02-04">2023-02-04</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;2263 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;5 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="true">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#动态规划解题套路框架">动态规划解题套路框架</a></li>
    <li><a href="#编辑距离">编辑距离</a></li>
    <li><a href="#空间压缩">空间压缩</a></li>
    <li><a href="#背包问题">背包问题</a>
      <ul>
        <li><a href="#01背包">01背包</a></li>
        <li><a href="#子集背包每个物品只能放一次要求把背包装满">子集背包：每个物品只能放一次，要求把背包装满</a></li>
        <li><a href="#完全背包">完全背包</a></li>
      </ul>
    </li>
    <li><a href="#博弈类dp">博弈类dp</a></li>
    <li><a href="#数位dp">数位DP</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>本系列笔记为作者在跟随<a href="https://labuladong.github.io/algo/" target="_blank" rel="noopener noreffer ">labuladong的算法小抄</a>学习的时候结合golang做的笔记。感谢东哥。另外根据东哥对算法的分类法，将自己平时记的笔记也写到这里面。</p>
<p>第二章：手把手刷动态规划</p>
<h2 id="动态规划解题套路框架">动态规划解题套路框架</h2>
<p>不要迷恋那些看起来很牛逼，代码很短小的解法思路，最好是稳一点，采取可解释性最好，最容易推广的解法思路。</p>
<p>动态规划问题的一般形式就是求最值。</p>
<p>求解动态规划的核心问题是穷举。</p>
<p>详见<a href="/posts/%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84%e4%b8%8e%e7%ae%97%e6%b3%95/labuladong/%e7%ac%ac%e9%9b%b6%e7%ab%a0%e5%92%8c%e7%ac%ac%e4%b8%80%e7%ab%a0#%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" rel="">第零章</a></p>
<h2 id="编辑距离">编辑距离</h2>
<p><a href="https://leetcode.cn/problems/edit-distance/" target="_blank" rel="noopener noreffer ">leetcode 72 编辑距离</a></p>
<p>给你两个单词 word1 和 word2， 请返回将 word1 转换成 word2 所使用的最少操作数</p>
<p>一次操作可以插入，删除和替换1个字符</p>
<p>思路：动态规划</p>
<ol>
<li>首先定义basecase，当一个字符串长度为0时，直接把另一个字符串的每个字符插入该字符或者将另一个字符的每个字符删除即可。</li>
<li>定义状态，要想到达basecase，只能在长度上进行缩减，两个单词的长度分别用i，j表示，dp表为一个二位数组且长度分别为len(word1)+1，len(word2)+1，basecase表示dp[i][0]=i,dp[0][j]=j。</li>
<li>然后定义选择，虽然说一次操作可以插入删除和替换，但是其实插入和删除可以合并位插入，因为删除word1的一个字符就等价于插入word2一个字符。所以从父问题到子问题可选择的操作有插入1个字符，替换一个字符和不操作。</li>
<li>另外根据word1[i]和word2[j]是否相等将问题dp[i,j]的状态转移方程分为两种情况：</li>
</ol>
<ul>
<li>当word1[i]==word2[j]时：我们可能是从子问题dp[i-1][j]选择插入一个字符得到dp[i][j]问题的答案，从子问题dp[i][j-1]选择插入一个字符得到dp[i][j]问题的答案，以及从子问题dp[i-1][j-1]不操作得到dp[i][j]问题的答案，所以dp[i][j]=min(dp[i][j−1]+1,dp[i−1][j]+1,dp[i−1][j−1])</li>
<li>当word1[i]!=word2[j]时，前两种选择和上面一样，但是这里不操作就不行了，可以在子问题dp[i-1][j-1]的基础上替换一个字符得到dp[i][j]的答案，所以dp[i][j]=1+min(dp[i][j−1],dp[i−1][j],dp[i−1][j−1])</li>
</ul>
<p>最后根据状态转移方程写出自顶向下或者自底向上的解题代码</p>
<p>自顶向下</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#00a">func</span> <span style="color:#0a0">minDistance</span>(word1 <span style="color:#0aa">string</span>, word2 <span style="color:#0aa">string</span>) <span style="color:#0aa">int</span> {
</span></span><span style="display:flex;"><span>    l1,l2:=<span style="color:#0aa">len</span>(word1),<span style="color:#0aa">len</span>(word2)
</span></span><span style="display:flex;"><span>    dp:=<span style="color:#0aa">make</span>([][]<span style="color:#0aa">int</span>,l1+<span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#00a">for</span> i:=<span style="color:#099">0</span>;i&lt;<span style="color:#0aa">len</span>(dp);i++{
</span></span><span style="display:flex;"><span>        dp[i]=<span style="color:#0aa">make</span>([]<span style="color:#0aa">int</span>,l2+<span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#00a">for</span> j:=<span style="color:#099">0</span>;j&lt;l2+<span style="color:#099">1</span>;j++{
</span></span><span style="display:flex;"><span>            dp[i][j]=-<span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        dp[i][<span style="color:#099">0</span>]=i
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#00a">for</span> j:=<span style="color:#099">0</span>;j&lt;<span style="color:#0aa">len</span>(dp[<span style="color:#099">0</span>]);j++{
</span></span><span style="display:flex;"><span>        dp[<span style="color:#099">0</span>][j]=j
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a">var</span> dpfun <span style="color:#00a">func</span> (i,j <span style="color:#0aa">int</span>) (<span style="color:#0aa">int</span>)
</span></span><span style="display:flex;"><span>    dpfun = <span style="color:#00a">func</span> (i,j <span style="color:#0aa">int</span>) (<span style="color:#0aa">int</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#00a">if</span> dp[i][j]!=-<span style="color:#099">1</span>{<span style="color:#00a">return</span> dp[i][j]}
</span></span><span style="display:flex;"><span>        <span style="color:#00a">if</span> word1[i-<span style="color:#099">1</span>]==word2[j-<span style="color:#099">1</span>]{
</span></span><span style="display:flex;"><span>            dp[i][j]=<span style="color:#0a0">Min</span>(<span style="color:#0a0">dpfun</span>(i-<span style="color:#099">1</span>,j-<span style="color:#099">1</span>),<span style="color:#0a0">dpfun</span>(i-<span style="color:#099">1</span>,j)+<span style="color:#099">1</span>,<span style="color:#0a0">dpfun</span>(i,j-<span style="color:#099">1</span>)+<span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>        }<span style="color:#00a">else</span> {
</span></span><span style="display:flex;"><span>            dp[i][j]=<span style="color:#0a0">Min</span>(<span style="color:#0a0">dpfun</span>(i-<span style="color:#099">1</span>,j-<span style="color:#099">1</span>)+<span style="color:#099">1</span>,<span style="color:#0a0">dpfun</span>(i-<span style="color:#099">1</span>,j)+<span style="color:#099">1</span>,<span style="color:#0a0">dpfun</span>(i,j-<span style="color:#099">1</span>)+<span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#00a">return</span> dp[i][j]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a">return</span> <span style="color:#0a0">dpfun</span>(l1,l2)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00a">func</span> <span style="color:#0a0">Min</span>(s ...<span style="color:#0aa">int</span>)<span style="color:#0aa">int</span>{
</span></span><span style="display:flex;"><span>    tmp:=s[<span style="color:#099">0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#00a">for</span> _,v:=<span style="color:#00a">range</span> s{
</span></span><span style="display:flex;"><span>        <span style="color:#00a">if</span> tmp&gt;v{tmp=v}
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#00a">return</span> tmp
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="空间压缩">空间压缩</h2>
<p>如果转移方程右边的某一维(i)的值只和i或i相邻的值（i和i-k或者i和i+k）相关，那么就能把其占有的空间优化掉</p>
<p>通常只能优化一个维度</p>
<p>i和i-k则从小到大遍历，i和i+k则从大到小遍历</p>
<p>比如:dp[i][j]=dp[i][j-w[i-1]]</p>
<p>优化为:dp[j]=dp[j-w[i-1]]</p>
<h2 id="背包问题">背包问题</h2>
<h3 id="01背包">01背包</h3>
<p>每个物品只放一次，求容量w能放下的最大价值</p>
<p>状态定义:dp[i][j]为仅使用前i个物品（dp中的索引为i，对应物品索引为i-1），容量为j时能获取的最大价值，值为数值类型</p>
<p>basecase:dp[&hellip;][0]=0，dp[0][&hellip;]=0</p>
<p>转移方程：把第i个物品装入或不装入</p>
<p>dp[i][j]=max(dp[i-1][j],dp[i][j-w[i-1]]+v[i-1]),j-w[i-1]&gt;=0
dp[i-1][j],j-w[i-1]&lt;0，无法装入</p>
<p>空间优化:i从小到大遍历</p>
<p>dp[j]=max(dp[j],dp[j-w[i-1]]+v[i-1]),j-w[i-1]&gt;=0
dp[j],j-w[i-1]&lt;0</p>
<p>下面优化掉</p>
<p>dp[j]=max(dp[j],dp[j-w[i-1]]+v[i-1]),j-w[i-1]&gt;=0</p>
<h3 id="子集背包每个物品只能放一次要求把背包装满">子集背包：每个物品只能放一次，要求把背包装满</h3>
<p>每个物品只放一次，求是否能完全放满背包</p>
<p>状态定义:dp[i][j]为使用前i个物品能否放满背包，值为bool类型</p>
<p>basecase:dp[&hellip;][0]=true，dp[0][&hellip;]=false</p>
<p>转移方程：和01背包一样</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>dp[i][j]=dp[i-1][j]||dp[i][j-w[i-1]],j-w[i-1]&gt;=<span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>         dp[i-1][j],j-w[i-1]&lt;<span style="color:#099">0</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>空间优化：i从小到大遍历</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>dp[j]=dp[j]||dp[j-w[i-1],j-w[i-1]&gt;=<span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>      dp[j],j-w[i-1]&lt;<span style="color:#099">0</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>优化掉下面这个就变成了</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>dp[j]=dp[j]||dp[j-w[i-1],j-w[i-1]&gt;=<span style="color:#099">0</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="完全背包">完全背包</h3>
<p>每个物品都可以放无限次，有多少种填满背包的方法</p>
<p>例子：<a href="https://leetcode.cn/problems/coin-change-ii/" target="_blank" rel="noopener noreffer ">518. 零钱兑换 II</a></p>
<p>状态定义:dp[i][j]为只使用前i个物品，容量为j时填满背包的方法有多少个</p>
<p>basecase:dp[0][&hellip;]=0,dp[&hellip;][0]=1</p>
<p>转移方程:和01背包一样</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>dp[i][j]=dp[i-1][j]+dp[i][j-w[i-1]],j-w[i-1]&gt;=<span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>         dp[i-1][j],j-w[i-1]&lt;<span style="color:#099">0</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>空间优化：i从小到大遍历</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>dp[j]=dp[j]+dp[j-w[i-i]],j-w[i-1]&gt;=<span style="color:#099">0</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="博弈类dp">博弈类dp</h2>
<p><a href="https://labuladong.github.io/algo/di-er-zhan-a01c6/yong-dong--63ceb/jing-dian--467d1/" target="_blank" rel="noopener noreffer ">博弈类dp</a></p>
<p><a href="https://leetcode.cn/problems/predict-the-winner/" target="_blank" rel="noopener noreffer ">486. 预测赢家</a></p>
<p><a href="https://leetcode.cn/problems/stone-game/" target="_blank" rel="noopener noreffer ">877. 石子游戏</a></p>
<p>定义 dp 数组的含义:</p>
<ul>
<li>dp[i][j].fir = x 表示，对于 piles[i&hellip;j] 这部分石头堆，先手能获得的最高分数为 x。</li>
<li>dp[i][j].sec = y 表示，对于 piles[i&hellip;j] 这部分石头堆，后手能获得的最高分数为 y。</li>
</ul>
<p>选择</p>
<ul>
<li>先手状态：选择最左边的那堆石头，或者选择最右边的那堆石头</li>
<li>后手状态：先手选择后剩下石头堆的先手状态</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>dp[i][j].fir = max(piles[i] + dp[i+1][j].sec, piles[j] + dp[i][j-1].sec)
</span></span><span style="display:flex;"><span>dp[i][j].fir = max(     选择最左边的石头堆     ,     选择最右边的石头堆      )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00a">if</span> 先手选择左边:
</span></span><span style="display:flex;"><span>    dp[i][j].sec = dp[i+1][j].fir
</span></span><span style="display:flex;"><span><span style="color:#00a">if</span> 先手选择右边:
</span></span><span style="display:flex;"><span>    dp[i][j].sec = dp[i][j-1].fir
</span></span></code></pre></td></tr></table>
</div>
</div><p>由于状态转移方程右边都是i+1所以i得从大到小遍历，j-1所以j得从小到大遍历</p>
<h2 id="数位dp">数位DP</h2>
<p><a href="https://blog.csdn.net/hzf0701/article/details/116717851" target="_blank" rel="noopener noreffer ">CSDN unique_pursuit</a></p>
<p>给定一个闭区间[l,r]，让你求这个区间中满足某种条件的数的总数</p>
<ol>
<li>求[0,r]满足条件的数的总数，从最高位逐位枚举，对于第n位（十进制或二进制等），r的数字位an，那么分两种情况[0,an-1]和an（有时候0也需要作为额外的特殊情况，这样就是3个特殊情况了）。[0,an-1]可以直接得到结果，an则继续细分，当第n位取an时，得到子问题第n-1位取值</li>
<li>求出[0,r]的结果之后，使用同样的方式求[0,l-1]的结果，然后相减就是最后的结果</li>
</ol>
<p>通常设置memo的大小为[位数][可取值（一般为10）]</p>
<p>然后有一个dp(i)函数求第i位所在位置的答案(可以是递归也可以是递推)</p>
<p>数位dp使用strconv.Atoi()以及strconv.Itoa()结合字符串连接操作可以简化很多问题</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2023-02-04
    

    
        

        
        
            <span id="busuanzi_container_value_page_pv"><i class="far fa-eye fa-fw"></i>
                
                <span id="busuanzi_value_page_pv"></span>&nbsp;views</span>
        
    

</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://oublie6.github.io/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/labuladong/%E7%AC%AC%E4%BA%8C%E7%AB%A0/" data-title="数据结构与算法-labuladong-第二章" data-hashtags="labuladong系列"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://oublie6.github.io/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/labuladong/%E7%AC%AC%E4%BA%8C%E7%AB%A0/" data-hashtag="labuladong系列"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://oublie6.github.io/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/labuladong/%E7%AC%AC%E4%BA%8C%E7%AB%A0/" data-title="数据结构与算法-labuladong-第二章"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="https://oublie6.github.io/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/labuladong/%E7%AC%AC%E4%BA%8C%E7%AB%A0/" data-title="数据结构与算法-labuladong-第二章"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="https://oublie6.github.io/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/labuladong/%E7%AC%AC%E4%BA%8C%E7%AB%A0/" data-title="数据结构与算法-labuladong-第二章"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/labuladong%E7%B3%BB%E5%88%97/">labuladong系列</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/golang/%E6%A0%87%E5%87%86%E5%BA%93/container/" class="prev" rel="prev" title="go标准库-Container"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>go标准库-Container</a>
            <a href="/posts/%E9%80%9A%E7%94%A8%E6%8A%80%E6%9C%AF/protobuf/" class="next" rel="next" title="通用技术-Protobuf">通用技术-Protobuf<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
<div id="comments"><div id="gitalk" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://github.com/gitalk/gitalk"></a>Gitalk</a>.
            </noscript></div></article></div>
            </main>
    
        
        <script async src=" //busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js "></script>
    

    
        
            <section>
                
                    <span id="busuanzi_container_value_site_pv"><i class="far fa-eye fa-fw"></i>
                        
                        <span id="busuanzi_value_site_pv"></span>
                    </span>
                

                
                    &nbsp;|&nbsp;              
                

                
                    <span id="busuanzi_container_value_site_uv"><i class="fa fa-user"></i>
                        
                        <span id="busuanzi_value_site_uv"></span>
                    </span>
                
            </section>
        

        
        
    

<script src="/js/xxx.js"></script>
</div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/css/lightgallery-bundle.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/lightgallery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/thumbnail/lg-thumbnail.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/zoom/lg-zoom.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{"gitalk":{"admin":["oublie6"],"clientID":"161f711b5310ee2521fa","clientSecret":"0bbbc4a0ed58220489334176a48a3c0898c1538a","id":"2023-02-04T15:56:50+08:00","owner":"oublie6","repo":"oublie6.github.io","title":"数据结构与算法-labuladong-第二章"}},"lightgallery":true,"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":50,"type":"lunr"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
